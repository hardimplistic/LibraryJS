"use strict";function isNull(a){return null==a||0===a.length}function convertEmptyToNull(a){return isNull(a)?null:a}function StringValue(a,b){return void 0===a||null==number?b?String(b):"":String(a)}function StringNumber(a,b){return void 0===a||null==a?b?String(b):"0":String(a)}function Timestamp(a){var b=a>0?a:Date.now();return this.getTime=function(){return b},this.getDate=function(){return new Date(b)},this.toString=function(){return b+""},this}function getLocationRedirect(a){if(a.startsWith("http://")||a.startsWith("https://")||a.startsWith("file://"))return a;var b=[];b.push(location.protocol),b.push("//"),b.push(location.host),a?a.startsWith("/")?b.push(a):location.pathname.endsWith("/")?(b.push(location.pathname),b.push(a)):(b.push(location.pathname),location.pathname.endsWith("/")||b.push("/"),b.push("../"),b.push(a)):b.push(location.pathname);var c=new URL(b.join(""));return c.href}function LocationRedirect(a,b){var c=getLocationRedirect(a);b&&(this._debugger=b),this._debugger?confirm("Location Redirect: "+c)&&(location.href=c):location.href=c}function LocationHref(a){var b="",c=[a];return this.put=function(a,d){void 0!=d&&null!=d&&""!=d&&(b=c.join(""),1==c.length&&b.indexOf("?")==-1?c.push("?"+a+"="+(d?encodeURIComponent(d):"")):c.push("&"+a+"="+(d?encodeURIComponent(d):"")))},this.get=function(){return c.join("")},this.forward=function(){location.href=this.get()},this}function LocationHash(){var a=["#"];return this.put=function(b,c){void 0!=c&&null!=c&&""!=c&&a.push(b+"="+(c?encodeURIComponent(c):""))},this.get=function(){return a.join("&")},this}function getSearchParameter(a,b){if(location.search&&location.search.substring(1)){var c,d=new RegExp("(^|&)"+a+"=([^&]*)(&|$)");return(c=location.search.substring(1).match(d))?unescape(c[2]):b?b:null}return b?b:null}function getHashParameter(a,b){if(location.hash&&location.hash.substring(1)){var c,d=new RegExp("(^|&)"+a+"=([^&]*)(&|$)");return(c=location.hash.substring(1).match(d))?decodeURIComponent(c[2]):b?b:null}return b?b:null}function getStringParameter(a,b,c){if(a&&"#"==a.substring(0,1)&&(a=a.substring(1)),a){var d,e=new RegExp("(^|&)"+b+"=([^&]*)(&|$)");return(d=a.match(e))?decodeURIComponent(d[2]):c?c:null}return c?c:null}function WAjaxCall(a,b,c){$.ajax(a).done(function(a,d,e){b&&$.isFunction(b)&&(200==a.status?b(a):WFail.failApi(a,d,e,b,c))}).fail(function(a,d,e){return"timeout"==d?void WFail.failTimeOut(null,d,a,b,c):void WFail.failHttp(null,d,a,b,c)})}function WJsonCall(a,b,c,d){var e={type:"POST",url:a,data:$.toJSON(b),dataType:"json",contentType:"application/json;charset=utf-8",timeout:WConfig.ajax.timeout};WAjaxCall(e,c,d)}function WDeleteJsonCall(a,b,c,d){var e={type:"DELETE",url:a,data:$.toJSON(b),dataType:"json",contentType:"application/json;charset=utf-8",timeout:WConfig.ajax.timeout};WAjaxCall(e,c,d)}function WPutJsonCall(a,b,c,d){var e={type:"PUT",url:a,data:$.toJSON(b),dataType:"json",contentType:"application/json;charset=utf-8",timeout:WConfig.ajax.timeout};WAjaxCall(e,c,d)}function WPostJsonCall(a,b,c,d){WJsonCall(a,b,c,d)}function WBodyCall(a,b,c,d){WJsonCall(a,b,c,d)}function WPostCall(a,b,c,d){var e={type:"POST",url:a,data:b,timeout:WConfig.ajax.timeout};WAjaxCall(e,c,d)}function WGetCall(a,b,c,d){var e={type:"GET",url:a,data:b,timeout:WConfig.ajax.timeout};WAjaxCall(e,c,d)}function PAjaxCall(a,b,c){$.ajax(a).done(function(a,d,e){"timeout"==d?c({response:null,textStatus:d,jqXHR:e,errorThrown:null}):a.status==PConfig.ajax.loginStatus?location.href=PConfig.ajax.loginUrl:200!=a.status?c({response:a,textStatus:d,jqXHR:e,errorThrown:a.message}):200==a.status?b(a):c({response:a,textStatus:d,jqXHR:e,errorThrown:null})}).fail(function(a,b,d){c({response:null,textStatus:b,jqXHR:a,errorThrown:d})})}function PJsonCall(a,b){return new Promise(function(c,d){var e={type:"POST",url:a,data:$.toJSON(b),dataType:"json",contentType:"application/json;charset=utf-8",timeout:PConfig.ajax.timeout};PAjaxCall(e,c,d)})}function PPostCall(a,b){return new Promise(function(c,d){var e={type:"POST",url:a,data:b,timeout:PConfig.ajax.timeout};PAjaxCall(e,c,d)})}function PBodyCall(a,b){PJsonCall(a,b)}function PGetCall(a,b){return new Promise(function(c,d){var e={type:"GET",url:a,data:b,timeout:PConfig.ajax.timeout};PAjaxCall(e,c,d)})}function PPostJsonCall(a,b){return new Promise(function(c,d){var e={type:"POST",url:a,data:$.toJSON(b),dataType:"json",contentType:"application/json;charset=utf-8",timeout:PConfig.ajax.timeout};PAjaxCall(e,c,d)})}function PPutJsonCall(a,b){return new Promise(function(c,d){var e={type:"PUT",url:a,data:$.toJSON(b),dataType:"json",contentType:"application/json;charset=utf-8",timeout:PConfig.ajax.timeout};PAjaxCall(e,c,d)})}function PDeleteJsonCall(a,b){return new Promise(function(c,d){var e={type:"DELETE",url:a,data:$.toJSON(b),dataType:"json",contentType:"application/json;charset=utf-8",timeout:PConfig.ajax.timeout};PAjaxCall(e,c,d)})}function formValue(a,b){var c=a[0].elements,d={};return $.each(c,function(a,c){var e=$(c),f=e.attr("name");if(!f){if(b!==!0)return;var g=e.attr("id");if(!g)return;f=g}d[f]=null}),$.each(c,function(a,c){var e=$(c),f=e.attr("name");if(!f){if(b!==!0)return;var g=e.attr("id");if(!g)return;f=g}var h=c.tagName.toLowerCase();if("select"===h)return void(d[f]=e.val());if("textarea"===h)return void(d[f]=e.val());var i=e.attr("type").toLowerCase();if("radio"===i)return void(c.checked&&(d[f]=e.val()));if("checkbox"!==i)return["text","password","hidden"].indexOf(i)>-1?void(d[f]=e.val()):void(d[f]=e.val());if(c.checked&&"true"===e.attr("data-multi")){var j=d[f];j||(j=d[f]=[]),j.push(e.val())}else c.checked&&(d[f]=e.val())}),d}function formValueById(a,b){return formValue($("#"+a),b)}function Chain(){var a=this;return a.index=0,a.chain=[],a.reset=function(){a.index=0},a.clear=function(){a.chain=[],a.index=0},a.method=function(b){a.chain.push(b)},a.start=function(){if(0!=a.chain.length){var b=function(c){var d=a.chain[++a.index];d&&d(b,c)};a.chain[0](b)}},a}function AsyncQueue(){var a=this;a.queue=[],a.countdown=0,a._finish=function(){},a.reset=function(){a.countdown=0},a.action=function(b){a.queue.push(b)},a.finish=function(b){a._finish=b},a.start=function(){if(0!=a.queue.length){var b=function(){++a.countdown==a.queue.length&&a._finish()};for(var c in a.queue)a.queue[c](b)}}}function depthValue(a,b,c){var d=null;d="string"==typeof b?b.split("."):b;for(var e=a,f=d.length,g=0;g<f&&"object"==typeof e;g++){var h=d.shift();if(e=e[h],void 0==e)return void 0==c?null:c}return e}function arrayObjectColumnSumToNumber(a,b){if(!a||0==a.length)return 0;var c=0;for(var d in a){var e=a[d],f=depthValue(e,b);void 0!=f&&"object"!=typeof f&&("string"!=typeof f?"number"!=typeof f||(c+=f):c+=f.toFloat())}return c}function arrayObjectColumnSumToString(a,b,c){if(!a||0==a.length)return"";c=c?c:", ";var d="";for(var e in a){var f=a[e],g=depthValue(f,b);void 0!=g&&"object"!=typeof g&&(d.length>0&&(d+=c),d+=g)}return d}function arrayObjectColumnNumberValueSubArray(a,b,c,d){if(!a||0==a.length)return[];var e=[];for(var f in a){var g=a[f],h=depthValue(g,b);void 0!=h&&"object"!=typeof h&&h>=c&&h<=d&&e.push(g)}return e}function arrayObjectColumnInNumberValueSubArray(a,b,c){if(!a||0==a.length)return[];var d=[];for(var e in a){var f=a[e],g=depthValue(f,b);void 0!=g&&"object"!=typeof g&&c.indexOf(g)>-1&&d.push(f)}return d}function arraysMergeToArrayObject(){var a=arguments;if(a<2)return[];for(var b=[],c=a[0],d=a[1],e=0;e<d.length;e++){var f={};for(var g in c){var h=c[g],i=a[g.toInteger()+1][e];f[h]=i}b.push(f)}return b}function arrayObjectAppendColumn(a,b,c){for(var d in a)a[d][b]=c;return a}function arrayObjectValuesByColumn(a,b){var c=[];for(var d in a){var e=a[d];c.push(e[b])}return c}function arrayObjectToMapByColumn(a,b){var c={};for(var d in a)c[a[d][b]]=a[d];return c}function uuid(a,b){var c,d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),e=[];if(b=b||d.length,a)for(c=0;c<a;c++)e[c]=d[0|Math.random()*b];else{var f;for(e[8]=e[13]=e[18]=e[23]="-",e[14]="4",c=0;c<36;c++)e[c]||(f=0|16*Math.random(),e[c]=d[19==c?3&f|8:f])}return e.join("")}function guid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})}function CreateID(a){return a||(a="ID"),"{0}_{1}_{2}".format(a,uuid(8,16),Math.round(100*Math.random()))}function javaIntValue(a){var b=2147483647,c=-2147483648;return a>b||a<c?a&=4294967295:a}function javaHashCode(a){var b=0;if(!isNull(a))for(var c=0;c<a.length;c++)b=31*b+a.charCodeAt(c),b=javaIntValue(b);return b}String.prototype.startsWith||!function(){var a=function(){try{var a={},b=Object.defineProperty,c=b(a,a,a)&&b}catch(d){}return c}(),b={}.toString,c=function(a){if(null==this)throw TypeError();var c=String(this);if(a&&"[object RegExp]"==b.call(a))throw TypeError();var d=c.length,e=String(a),f=e.length,g=arguments.length>1?arguments[1]:void 0,h=g?Number(g):0;h!=h&&(h=0);var i=Math.min(Math.max(h,0),d);if(f+i>d)return!1;for(var j=-1;++j<f;)if(c.charCodeAt(i+j)!=e.charCodeAt(j))return!1;return!0};a?a(String.prototype,"startsWith",{value:c,configurable:!0,writable:!0}):String.prototype.startsWith=c}(),String.prototype.endsWith||(String.prototype.endsWith=function(a,b){return(void 0===b||b>this.length)&&(b=this.length),this.substring(b-a.length,b)===a}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.format||(String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})}),Date.prototype.format||(Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a}),String.prototype.toInteger||(String.prototype.toInteger=function(){var a=this.replace(/\s/g,"").replace(/,/g,"");return""!=a&&0==isNaN(a)?parseInt(a,10):0}),String.prototype.toFloat||(String.prototype.toFloat=function(){var a=this.replace(/\s/g,"").replace(/,/g,"");return""!=a&&0==isNaN(a)?parseFloat(a,10):0}),String.prototype.toBoolean||(String.prototype.toBoolean=function(){return"true"==this}),String.prototype.toHashCode||(String.prototype.toHashCode=function(){return javaHashCode(this)}),LocationRedirect.prototype._debugger=!1;var WConfig={ajax:{timeout:5e5,loginStatus:80403,loginUrl:"/login.html"}},WFail={failHttp:function(a,b,c,d,e){if(d&&$.isFunction(d)){if(e)return void d({data:e,status:c.status,message:c.statusText});d({data:null,status:c.status,message:c.statusText})}},failApi:function(a,b,c,d,e){switch(a.status){case WConfig.ajax.loginStatus:location.href=WConfig.ajax.loginUrl}if(d&&$.isFunction(d)){if(e)return void d({data:e,status:a.status,message:a.message});d({data:null,status:a.status,message:a.message})}},failTimeOut:function(a,b,c,d,e){if(d&&$.isFunction(d)){if(e)return void d({data:e,status:c.status,message:c.statusText});d({data:null,status:c.status,message:c.statusText})}}},PConfig={ajax:{timeout:5e5,loginStatus:80403,loginUrl:"/login.html"}},WStorage={setItem:function(a,b){var c=$.type(b);switch(c){case"object":case"array":localStorage.setItem("_type_"+a,c),localStorage.setItem(a,$.toJSON(b));break;default:localStorage.setItem("_type_"+a,c),localStorage.setItem(a,b)}},getItem:function(a){var b=localStorage.getItem("_type_"+a),c=localStorage.getItem(a);switch(b){case"object":case"array":c=$.parseJSON(c);default:return c}},removeItem:function(a){localStorage.removeItem("_type_"+a),localStorage.removeItem(a)}},WCookie={setItem:function(a,b){var c=$.type(b);switch(c){case"object":case"array":localStorage.setItem("_type_c_"+a,c),$.cookie(a,$.toJSON(b),{path:"/"});break;default:localStorage.setItem("_type_c_"+a,c),$.cookie(a,b,{path:"/"})}},getItem:function(a){var b=localStorage.getItem("_type_c_"+a),c=localStorage.getItem(a);switch(b){case"object":case"array":c=$.parseJSON($.cookie(a));default:return c}},removeItem:function(a){localStorage.removeItem("_type_c_"+a),localStorage.removeItem(a)}},MediaCache={};MediaCache.ImageLoad=function(a,b,c){var d=new Map,e=$("#MediaCacheImageContainer");0===e.length&&(e=$('<div id="MediaCacheImageContainer"/>').hide()),a.forEach(function(a,f){d.set(a,!1);var g=a;c===!0&&(g+=g.indexOf("?")===-1?"?v="+(new Date).getTime():"&v="+(new Date).getTime());var h=CreateID(),i=$("<img/>").attr("id",h).attr("src",g).attr("data-src",a);i[0].onload=function(){var a=$(this).data("src");d.set(a,!0),b&&b(a,d)},e.append(i)}),$("body").append(e)},MediaCache.AudioLoad=function(a,b,c){var d=new Map,e=$("#MediaCacheAudioContainer");0===e.length&&(e=$('<div id="MediaCacheAudioContainer"/>').hide()),a.forEach(function(a,f){d.set(a,!1);var g=CreateID(),h=$('<audio preload="auto" muted/>').attr("id",g).attr("data-src",a);c===!0&&(a+=a.indexOf("?")===-1?"?v="+(new Date).getTime():"&v="+(new Date).getTime());var i=$('<source src="" type="audio/mpeg"/>').attr("src",a);h.append(i);var j=h[0];j.load(),j.addEventListener("canplaythrough",function(){var a=$(this).data("src");d.set(a,!0),b&&b(a,d)},!1),e.append(h)}),$("body").append(e)};var AssertJS={active:!1,Utils:{isDebugModeInSearchQuery:function(){if(location.search&&location.search.substring(1)){var a,b="debugger",c=new RegExp("(^|&)"+b+"=([^&]*)(&|$)");if(a=location.search.substring(1).match(c))return AssertJS.Utils.equals(unescape(a[2]))}return!1},equals:function(a,b){return a==b},isNull:function(a){return null==a},isGreaterThan:function(a,b){return a>b},isLessThan:function(a,b){return a<b},isStringEmpty:function(a){return AssertJS.Utils.isNull(a)||AssertJS.Utils.equals(a.length,0)},isObjectEmpty:function(a){if(AssertJS.Utils.isNull(a))return!0;var b=0;for(var c in a){b++;break}return AssertJS.Utils.equals(b,0)},isArrayEmpty:function(a){return AssertJS.Utils.isNull(a)||AssertJS.Utils.equals(a.length,0)}},Debug:{isDebugMode:function(){return 1==AssertJS.active},isNull:function(a){AssertJS.Debug.isDebugMode()&&AssertJS.Utils.isNull(a)},isArrayEmpty:function(a){AssertJS.Debug.isDebugMode()&&AssertJS.Utils.isArrayEmpty(a)}}};